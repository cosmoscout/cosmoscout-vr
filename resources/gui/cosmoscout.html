<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>CosmoScout GUI</title>

  <link type="text/css" rel="stylesheet" href="third-party/css/bootstrap.min.css" />
  <link type="text/css" rel="stylesheet" href="third-party/css/bootstrap-select.min.css" />

  <link type="text/css" rel="stylesheet" href="third-party/css/nouislider.css">

  <link type="text/css" rel="stylesheet" href="third-party/css/vis-timeline-graph2d.css" />
  <link type="text/css" rel="stylesheet" href="third-party/css/color-picker.min.css">

  <link type="text/css" rel="stylesheet" href="css/gui.css">
  <link type="text/css" rel="stylesheet" href="css/cosmoscout.css">
  <link type="text/css" rel="stylesheet" href="css/loading_screen.css">
  <link type="text/css" rel="stylesheet" href="css/timeline.css" />
  <link type="text/css" rel="stylesheet" href="css/calendar.css">
  <link type="text/css" rel="stylesheet" href="css/sidebar.css" />
  <link type="text/css" rel="stylesheet" href="css/notifications.css">
  <link type="text/css" rel="stylesheet" href="css/statusbar.css">
  <link type="text/css" rel="stylesheet" href="css/logo.css">
  <link type="text/css" rel="stylesheet" href="css/bookmark_editor.css">
  <link type="text/css" rel="stylesheet" href="css/transfer_function_editor.css">
</head>

<body>

  <div id="loading-screen">
    <div id="background"></div>
    <div id="loading-screen-logo">
      <div id="image"></div>
      <div id="text">
        <div id="upper">CosmoScout VR</div>
        <div id="progress">
          <div id="progress-bar">
          </div>
        </div>
        <div id="lower">loading core engine ...</div>
      </div>
      <div id="version">unknown version</div>
    </div>
  </div>

  <div id="cosmoscout">
    <div id="timeline-container">
      <div id="overview"></div>

      <div id="timeline"></div>

      <div id="bottom-border-left"></div>
      <div id="bottom-border-right"></div>

      <div id="speed-control" class="item">
        <div id="range"></div>
      </div>

      <div id="time-control" class="item">
        <a class="btn light-glass btn-main" data-toggle="tooltip" title="Reset simulation time"
          id="time-reset-button">
          <i class="material-icons">restore</i>
        </a>
        <a class="btn light-glass" data-toggle="tooltip" title="Toggle calendar"
          id="calendar-button">
          <i class="material-icons">date_range</i>
        </a>
        <div id="date-label-container">
          <span id="date-label">
            1970-01-01 12:34:56
          </span>

          <span id="decreaseControl" class="item">
            <a class="btn light-glass" id="decrease-year-button" data-change="time" data-type="year"
              data-direction="decrease">
              <i class="material-icons">expand_more</i>
            </a>
            <a class="btn light-glass" id="decrease-month-button" data-change="time"
              data-type="month" data-direction="decrease">
              <i class="material-icons">expand_more</i>
            </a>
            <a class="btn light-glass" id="decrease-day-button" data-change="time" data-type="day"
              data-direction="decrease">
              <i class="material-icons">expand_more</i>
            </a>
            <a class="btn light-glass" id="decrease-hour-button" data-change="time" data-type="hour"
              data-direction="decrease">
              <i class="material-icons">expand_more</i>
            </a>
            <a class="btn light-glass" id="decrease-minute-button" data-change="time"
              data-type="minute" data-direction="decrease">
              <i class="material-icons">expand_more</i>
            </a>
            <a class="btn light-glass" id="decrease-second-button" data-change="time"
              data-type="second" data-direction="decrease">
              <i class="material-icons">expand_more</i>
            </a>
          </span>

          <span id="increaseControl" class="item">
            <a class="btn light-glass" id="increase-year-button" data-change="time" data-type="year"
              data-direction="increase">
              <i class="material-icons">expand_less</i>
            </a>
            <a class="btn light-glass" id="increase-month-button" data-change="time"
              data-type="month" data-direction="increase">
              <i class="material-icons">expand_less</i>
            </a>
            <a class="btn light-glass" id="increase-day-button" data-change="time" data-type="day"
              data-direction="increase">
              <i class="material-icons">expand_less</i>
            </a>
            <a class="btn light-glass" id="increase-hour-button" data-change="time" data-type="hour"
              data-direction="increase">
              <i class="material-icons">expand_less</i>
            </a>
            <a class="btn light-glass" id="increase-minute-button" data-change="time"
              data-type="minute" data-direction="increase">
              <i class="material-icons">expand_less</i>
            </a>
            <a class="btn light-glass" id="increase-second-button" data-change="time"
              data-type="second" data-direction="increase">
              <i class="material-icons">expand_less</i>
            </a>
          </span>
        </div>

        <a class="btn light-glass btn-main" data-toggle="tooltip" title="Toggle pause"
          id="pause-button">
          <i class="material-icons">pause</i>
        </a>
      </div>

      <div id="expand-control" class="item">
        <a id="expand-button" data-toggle="tooltip" title="Toggle overview">
          <i class="material-icons">expand_more</i>
        </a>
      </div>

      <div id="speed-decrease-button-container" class="item">
        <a class="btn light-glass" data-toggle="tooltip" title='Fast rewind'
          id="speed-decrease-button">
          <i class="material-icons">fast_rewind</i>
        </a>
      </div>

      <div id="speed-increase-button-container" class="item">
        <a class="btn light-glass" data-toggle="tooltip" title='Fast forward'
          id="speed-increase-button">
          <i class="material-icons">fast_forward</i>
        </a>
      </div>

      <div id="timeline-search-area" class="item">
        <input type="text" spellcheck="false" placeholder="Try Mars:Gale">
        <a class="btn light-glass" id="timeline-search-button" data-toggle="tooltip"
          title="Travel to Location">
          <i class="material-icons">search</i>
        </a>
      </div>

      <div id="plugin-buttons">
        <a class="btn light-glass" data-toggle="tooltip" title="Turn north up"
          onclick="CosmoScout.callbacks.navigation.northUp()">
          <span id="compass-arrow"></span>
        </a>
        <a class="btn light-glass" data-toggle="tooltip" title="Fix horizon"
          onclick="CosmoScout.callbacks.navigation.fixHorizon()">
          <i class="material-icons">terrain</i>
        </a>
        <a class="btn light-glass" data-toggle="tooltip" title="Launch to orbit"
          onclick="CosmoScout.callbacks.navigation.toOrbit()">
          <i class="material-icons">flight_takeoff</i>
        </a>
        <a class="btn light-glass" data-toggle="tooltip" title="Land on surface"
          onclick="CosmoScout.callbacks.navigation.toSurface()">
          <i class="material-icons">flight_land</i>
        </a>
      </div>
    </div>

    <div id="sidebar">
      <div class="accordion" id="sidebar-accordion">
        <div class="sidebar-tab">
          <div class="section-header collapsed tab" id="heading-GeneralSettings"
            data-toggle="collapse" data-target="#collapse-GeneralSettings" aria-expanded="false"
            aria-controls="collapse-GeneralSettings" type="button">
            <span class="header-name">Advanced Settings</span>
            <i class="material-icons">settings</i>
          </div>
          <div class="section-body collapse" id="collapse-GeneralSettings"
            aria-labelledby="heading-GeneralSettings" data-parent="#sidebar-accordion">
            <div class="accordion" id="settings-accordion">
              <div class="settings-section">
                <div class="section-header collapsed" id="headingSettings-Graphics"
                  data-toggle="collapse" data-target="#collapseSettings-Graphics"
                  aria-expanded="false" aria-controls="collapseSettings-Graphics" type="button">
                  <i class="material-icons">trending_up</i>
                  <span>Graphics</span>
                  <i class="material-icons caret-icon">keyboard_arrow_left</i>
                </div>
                <div class="section-body collapse container-fluid" id="collapseSettings-Graphics"
                  aria-labelledby="headingSettings-Graphics" data-parent="#settings-accordion">

                  <div class="row">
                    <div class="col-7 offset-5">
                      <label class="checklabel">
                        <input type="checkbox" data-callback="graphics.setEnableVsync" checked />
                        <i class="material-icons"></i>
                        <span>VSync</span>
                      </label>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-5">
                      Main UI Scale
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setMainUIScale" data-event="change"></div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-5">
                      World UI Scale
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setWorldUIScale"></div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-5">
                      Elevation Scale
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setTerrainHeight">
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-7 offset-5">
                      <label class="checklabel">
                        <input type="checkbox" data-callback="graphics.setEnableHDR" checked />
                        <i class="material-icons"></i>
                        <span>Enable HDR Rendering</span>
                      </label>
                    </div>
                  </div>

                  <div class="row hdr-setting">
                    <div class="col-5">
                      Exposure (EV)
                    </div>
                    <div class="col-1">
                      <label class="checklabel" data-toggle="tooltip-top"
                        title='Select exposure automatically'>
                        <input type="checkbox" data-callback="graphics.setEnableAutoExposure"
                          checked />
                        <i class="material-icons"></i>
                      </label>
                    </div>
                    <div class="col-6">
                      <div data-callback="graphics.setExposure" class="unresponsive">
                      </div>
                    </div>
                  </div>

                  <div class="row hdr-setting">
                    <div class="col-5">
                      Exposure Range (EV)
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setExposureRange">
                      </div>
                    </div>
                  </div>

                  <div class="row hdr-setting">
                    <div class="col-5">
                      Compensation (EV)
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setExposureCompensation">
                      </div>
                    </div>
                  </div>

                  <div class="row hdr-setting">
                    <div class="col-5">
                      Adaption Speed
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setExposureAdaptionSpeed">
                      </div>
                    </div>
                  </div>

                  <div class="row hdr-setting">
                    <div class="col-5">
                      Glare Intensity
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setGlareIntensity">
                      </div>
                    </div>
                  </div>


                  <div class="row hdr-setting">
                    <div class="col-5">
                      Glare Quality
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setGlareQuality">
                      </div>
                    </div>
                  </div>

                  <div class="row hdr-setting">
                    <div class="col-5">
                      Glare Mode
                    </div>
                    <div class="col-7">
                      <label class="radiolabel">
                        <input name="glare_mode" type="radio" data-callback="graphics.setGlareMode0"
                          checked />
                        <span>Symmetric Gauss</span>
                      </label>
                    </div>
                    <div class="col-7 offset-5">
                      <label class="radiolabel">
                        <input name="glare_mode" type="radio"
                          data-callback="graphics.setGlareMode1" />
                        <span>Asymmetric Gauss</span>
                      </label>
                    </div>
                  </div>

                  <div class="row hdr-setting">
                    <div class="col-7 offset-5">
                      <label class="checklabel">
                        <input type="checkbox" data-callback="graphics.setEnableBicubicGlareFilter"
                          checked />
                        <i class="material-icons"></i>
                        <span>Bicubic Glare Filter</span>
                      </label>
                    </div>
                  </div>

                  <div class="row hdr-setting">
                    <div class="col-5">
                      Average Luminance:
                    </div>
                    <div class="col-7" style="text-align: right">
                      <span id="average-scene-luminance">0</span> cd / m²
                    </div>
                  </div>

                  <div class="row hdr-setting">
                    <div class="col-5">
                      Maximum Luminance:
                    </div>
                    <div class="col-7" style="text-align: right">
                      <span id="maximum-scene-luminance">0</span> cd / m²
                    </div>
                  </div>

                </div>
              </div>

              <div id="enableSensorSizeControl">
                <div class="settings-section">
                  <div class="section-header collapsed" id="headingSettings-Optics"
                    data-toggle="collapse" data-target="#collapseSettings-Optics"
                    aria-expanded="false" aria-controls="collapseSettings-Optics" type="button">
                    <i class="material-icons">camera</i><span>Optics</span><i
                      class="material-icons caret-icon">keyboard_arrow_left</i>
                  </div>
                  <div class="section-body collapse container-fluid" id="collapseSettings-Optics"
                    aria-labelledby="headingSettings-Optics" data-parent="#settings-accordion">

                    <div class="row">
                      <div class="col-5">
                        Sensor Diagonal (mm)
                      </div>
                      <div class="col-7">
                        <div data-callback="graphics.setSensorDiagonal">
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-5">
                        Focal Length (mm)
                      </div>
                      <div class="col-7">
                        <div data-callback="graphics.setFocalLength">
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>

              <div class="settings-section">
                <div class="section-header collapsed" id="headingSettings-LightShadow"
                  data-toggle="collapse" data-target="#collapseSettings-LightShadow"
                  aria-expanded="false" aria-controls="collapseSettings-LightShadow" type="button">
                  <i class="material-icons">brightness_medium</i><span>Light & Shadow</span><i
                    class="material-icons caret-icon">keyboard_arrow_left</i>
                </div>
                <div class="section-body collapse container-fluid" id="collapseSettings-LightShadow"
                  aria-labelledby="headingSettings-LightShadow" data-parent="#settings-accordion">

                  <div class="row">
                    <div class="col-7 offset-5">
                      <label class="checklabel">
                        <input type="checkbox" data-callback="graphics.setEnableLighting" />
                        <i class="material-icons"></i>
                        <span>Enable Lighting</span>
                      </label>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-5">
                      Quality
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setLightingQuality"></div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-5">
                      Ambient Light
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setAmbientLight">
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-7 offset-5">
                      <label class="checklabel">
                        <input type="checkbox" data-callback="graphics.setEnableShadows" />
                        <i class="material-icons"></i>
                        <span>Enable Shadows</span>
                      </label>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-5">
                      Shadowmap Size
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setShadowmapResolution"></div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-5">
                      Cascades
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setShadowmapCascades"></div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-5">
                      Cascade Distribution
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setShadowmapSplitDistribution"></div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-5">
                      Bias
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setShadowmapBias"></div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-5">
                      Depth Range
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setShadowmapRange"></div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-5">
                      Sunspace Extension
                    </div>
                    <div class="col-7">
                      <div data-callback="graphics.setShadowmapExtension"></div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-7 offset-5">
                      <label class="checklabel">
                        <input type="checkbox" data-callback="graphics.setEnableCascadesDebug" />
                        <i class="material-icons"></i>
                        <span>Show Shadow LOD</span>
                      </label>
                    </div>
                    <div class="col-7 offset-5">
                      <label class="checklabel">
                        <input type="checkbox" data-callback="graphics.setEnableShadowFreeze" />
                        <i class="material-icons"></i>
                        <span>Freeze Shadow LOD</span>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="notifications"></div>

    <!-- Calendar -->

    <div id="calendar" class="draggable-window resizable-window auto-hide-header">
      <div class="window-wrapper">
        <div class="window-header">
          <span class="window-title"><i
              class="material-icons">date_range</i><span>Calendar</span></span>
          <a class="btn light-glass" data-action="lock" data-toggle="tooltip" title="Keep open">
            <i class="material-icons">lock_open</i>
          </a>
          <a class="btn light-glass" data-action="close" data-toggle="tooltip" title="Close">
            <i class="material-icons">close</i>
          </a>
        </div>
        <div class="window-content">
        </div>
      </div>
    </div>

    <!-- Bookmark Editor -->

    <div id="bookmark-editor" class="draggable-window resizable-window">
      <div class="window-wrapper">
        <div class="window-header">
          <div class="window-title"><i class="material-icons">bookmark</i><span
              id="bookmark-editor-title">Bookmark Editor</span>
          </div>
          <a class="btn light-glass" data-action="close" data-toggle="tooltip" title="Close">
            <i class="material-icons">close</i>
          </a>
        </div>
        <div class="window-content container-fluid">

          <div class="row">

            <div class="col-12 mb-1">
              <div class="invalid-feedback" id="bookmark-editor-nothing-given-error">
                You should either specify a time or a location for the bookmark.
              </div>
              <small class="form-text text-muted">The name is required, the description is
                optional.</small>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col" style="flex-grow: 0;">
              <a tabindex="0" id="bookmark-editor-icon-select-button" class="btn block glass"
                data-trigger="focus" data-toggle="popover"
                data-popover-content="#bookmark-editor-icon-select-popover">
                <span>Icon</span>
                <img class="img-fluid" src="">
              </a>
            </div>

            <div class="hidden" id="bookmark-editor-icon-select-popover">
              <div class="data-popover-header"> </div>
              <div class="data-popover-body">
                <div id="bookmark-editor-icon-select-list" class="row px-2">
                  <div class="col-3 p-1 d-flex">
                    <a class="btn block glass pt-3" data-icon="none">
                      None
                    </a>
                  </div>
                </div>
                <small class="muted">Place PNG images into ../share/resources/icons to make
                  them available here.</small>
              </div>
            </div>

            <div class="col">
              <div class="row mb-1">
                <div class="col-8">
                  <input type="text" placeholder="Bookmark Name" class="form-control"
                    id="bookmark-editor-name">
                  <div class="invalid-feedback"></div>
                </div>
                <div class="col-4">
                  <input type="text" class="form-control color-input" id="bookmark-editor-color"
                    style="color: black;" value="">
                </div>
              </div>

              <div class="row">
                <div class="col-12">
                  <input type="text" placeholder="Description" class="form-control"
                    id="bookmark-editor-description">
                  <div class="invalid-feedback"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-12 mb-1">
              <small class="form-text text-muted">If you specify one or two dates, the bookmark will
                be shown on the timeline.</small>
            </div>
            <div class="col-6">
              <div class="input-group">
                <input type="text" placeholder="Start Date" class="form-control"
                  id="bookmark-editor-start-date">
                <div class="input-group-append">
                  <button class="btn glass fix-rounded-right" type="button" data-toggle="tooltip"
                    title="Use current time"><i class="material-icons">update</i></button>
                </div>
                <div class="invalid-feedback"></div>
              </div>
            </div>
            <div class="col-6">
              <div class=" input-group">
                <input type="text" placeholder="End Date" class="form-control"
                  id="bookmark-editor-end-date">
                <div class="input-group-append">
                  <button class="btn glass fix-rounded-right" type="button" data-toggle="tooltip"
                    title="Use current time"><i class="material-icons">update</i></button>
                </div>
                <div class="invalid-feedback"></div>
              </div>
            </div>
          </div>

          <div class="row mb-2">
            <div class="col-12 mb-1">
              <small class="form-text text-muted">The location fields are required top to bottom:
                You may omit them all, but if you provide a rotation, all fields are
                required.</small>
            </div>

            <div class="col-12 input-group">
              <input type="text" placeholder="Center" class="form-control"
                id="bookmark-editor-center">
              <input type="text" placeholder="Frame" class="form-control"
                id="bookmark-editor-frame">
              <div class="input-group-append">
                <button class="btn glass fix-rounded-right" type="button" data-toggle="tooltip"
                  title="Use current Body"><i class="material-icons">place</i></button>
              </div>
              <div class="invalid-feedback"></div>
            </div>
          </div>

          <div class="row mb-2">
            <div class="col-12 input-group">
              <input id="bookmark-editor-location-x" type="text" class="form-control"
                placeholder="LocX">
              <input id="bookmark-editor-location-y" type="text" class="form-control"
                placeholder="LocY">
              <input id="bookmark-editor-location-z" type="text" class="form-control"
                placeholder="LocZ">
              <div class="input-group-append">
                <button class="btn glass fix-rounded-right" type="button" data-toggle="tooltip"
                  title="Use current position"><i class="material-icons">place</i></button>
              </div>
              <div class="invalid-feedback"></div>
            </div>
          </div>

          <div class="row mb-2">
            <div class="col-12 input-group">
              <input id="bookmark-editor-rotation-x" type="text" class="form-control"
                placeholder="RotX">
              <input id="bookmark-editor-rotation-y" type="text" class="form-control"
                placeholder="RotY">
              <input id="bookmark-editor-rotation-z" type="text" class="form-control"
                placeholder="RotZ">
              <input id="bookmark-editor-rotation-w" type="text" class="form-control "
                placeholder="RotW">
              <div class="input-group-append">
                <button class="btn glass fix-rounded-right" type="button" data-toggle="tooltip"
                  title="Use current rotation"><i class="material-icons">place</i></button>
              </div>
              <div class="invalid-feedback"></div>
            </div>

          </div>

        </div>

        <div class="window-action-area container-fluid">
          <div class="row mb-2">
            <div class="col-5">
              <button class="btn glass btn-danger block" id="bookmark-editor-delete-button">
                Delete Bookmark
              </button>
            </div>
            <div class="col-7">
              <button class="btn glass block" id="bookmark-editor-save-button">
                Save Bookmark
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bookmark tooltip -->

    <div id="bookmark-tooltip-container">
      <div id="bookmark-tooltip-arrow"></div>
      <div id="bookmark-tooltip">
        <div id="bookmark-tooltip-header">
          <span id="bookmark-tooltip-name"> Name </span>
          <a id="bookmark-tooltip-edit" class="btn light-glass" data-toggle="tooltip"
            title="Edit Bookmark">
            <i class="material-icons">edit</i>
          </a>
          <a id="bookmark-tooltip-goto-time" class="btn light-glass" data-toggle="tooltip"
            title="Go to Bookmark time">
            <i class="material-icons">update</i>
          </a>
          <a id="bookmark-tooltip-goto-location" class="btn light-glass" data-toggle="tooltip"
            title="Got to Bookmark location">
            <i class="material-icons">place</i>
          </a>
        </div>
        <div id="bookmark-tooltip-description">Description</div>
      </div>
    </div>

    <!-- Console -->

    <div id="console-output-wrapper">
      <div id="console-output-area"></div>
    </div>
    <div id="console-suggestion-area"></div>
    <div id="statusbar">
      <div id="console-input-area">
        <div class="button" id="console-filter-button">
          <i class="material-icons">filter_list</i>
        </div>
        <input type="text" spellcheck="false" placeholder="Run Command...">
      </div>
      <div style="flex-basis: 200px">
        <i class="material-icons">speed</i>
        <div id="statusbar-speed">0 km/h</div>
      </div>
      <div style="flex-basis: 300px">
        <i class="material-icons">location_on</i>
        <div id="statusbar-user-position">0° 0° 0m</div>
      </div>
      <div style="flex-basis: 300px">
        <i class="material-icons">mouse</i>
        <div id="statusbar-pointer-position"> - </div>
      </div>
    </div>

    <!-- Logo -->

    <div id="logo">
      <div id="logo-image"></div>
      <div id="logo-text"></div>
    </div>
  </div>

  <!-- Javascript libraries -->
  <!-- Third Party-->
  <script type="text/javascript" src="third-party/js/jquery-2.2.3.min.js"></script>

  <!-- Bootstrap -->
  <script type="text/javascript" src="third-party/js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript" src="third-party/js/bootstrap-datepicker.js"></script>
  <script type="text/javascript" src="third-party/js/bootstrap-select.min.js"></script>

  <script type="text/javascript" src="third-party/js/d3.min.js"></script>
  <script type="text/javascript" src="third-party/js/fuzzyset.js"></script>
  <script type="text/javascript" src="third-party/js/nouislider.min.js"></script>

  <!-- Timeline -->
  <script type="text/javascript" src="third-party/js/vis-timeline-graph2d.min.js"></script>
  <script type="text/javascript" src="third-party/js/color-picker.min.js"></script>

  <!-- CosmoScout -->
  <script type="text/javascript" src="js/api.js"></script>
  <script type="text/javascript" src="js/cosmoscout.js"></script>

  <script type="text/javascript" src="js/apis/notification.js"></script>
  <script type="text/javascript" src="js/apis/sidebar.js"></script>
  <script type="text/javascript" src="js/apis/statusbar.js"></script>
  <script type="text/javascript" src="js/apis/timeline.js"></script>
  <script type="text/javascript" src="js/apis/loading_screen.js"></script>
  <script type="text/javascript" src="js/apis/calendar.js"></script>
  <script type="text/javascript" src="js/apis/gui.js"></script>
  <script type="text/javascript" src="js/apis/geocode.js"></script>
  <script type="text/javascript" src="js/apis/utils.js"></script>
  <script type="text/javascript" src="js/apis/bookmark_editor.js"></script>
  <script type="text/javascript" src="js/apis/transfer_function_editor.js"></script>

  <script type="text/javascript">

    var CosmoScout = new CosmoScoutAPI();

    document.addEventListener('DOMContentLoaded', () => {
      CosmoScout.init(
        UtilsApi,
        GuiApi,
        LoadingScreenApi,
        NotificationApi,
        StatusbarApi,
        SidebarApi,
        CalendarApi,
        GeoCodeApi,
        BookmarkEditorApi,
        TimelineApi,
        TransferFunctionEditorApi
      );

      const slider = document.querySelector('[data-callback="graphics.setShadowmapResolution"]');
      noUiSlider.create(slider, {
        start: 2048,
        connect: "lower",
        snap: true,
        range: { 'min': 256, '25%': 512, '50%': 1024, '75%': 2048, 'max': 4096 },
        format: wNumb({})
      });

      slider.noUiSlider.on('slide', function (values, handle, unencoded) {
        CosmoScout.callbacks.graphics.setShadowmapResolution(unencoded, 0);
      });

      CosmoScout.gui.initSlider('graphics.setMainUIScale', 0.5, 3.0, 0.1, [1.0]);
      CosmoScout.gui.initSlider('graphics.setWorldUIScale', 0.5, 3.0, 0.1, [1.0]);
      CosmoScout.gui.initSlider('graphics.setTerrainHeight', 1.0, 20.0, 0.1, [1]);
      CosmoScout.gui.initSlider("graphics.setLightingQuality", 1.0, 3.0, 1.0, [2.0]);
      CosmoScout.gui.initSlider("graphics.setShadowmapCascades", 1.0, 5.0, 1.0, [3.0]);
      CosmoScout.gui.initSlider("graphics.setShadowmapBias", 0.0, 10.0, 0.01, [1.0]);
      CosmoScout.gui.initSlider("graphics.setShadowmapRange", 0.0, 500.0, 1.0, [0.0, 100.0]);
      CosmoScout.gui.initSlider("graphics.setShadowmapExtension", -500.0, 500.0, 10.0, [-100.0, 100.0]);
      CosmoScout.gui.initSlider("graphics.setShadowmapSplitDistribution", 0.5, 5.0, 0.1, [1.0]);
      CosmoScout.gui.initSlider("graphics.setExposure", -30, 30, 0.5, [0]);
      CosmoScout.gui.initSlider("graphics.setSensorDiagonal", 5.0, 100, 1, [42]);
      CosmoScout.gui.initSlider("graphics.setFocalLength", 5.0, 500, 1, [24]);
      CosmoScout.gui.initSlider("graphics.setExposureCompensation", -10, 10, 0.5, [0]);
      CosmoScout.gui.initSlider("graphics.setExposureAdaptionSpeed", 0, 20, 0.1, [3]);
      CosmoScout.gui.initSlider("graphics.setAmbientLight", 0.0, 1.0, 0.001, [0.25]);
      CosmoScout.gui.initSlider("graphics.setExposureRange", -30.0, 30, 0.1, [-14, 9]);
      CosmoScout.gui.initSlider("graphics.setGlareIntensity", 0.0, 1, 0.01, [0.1]);
      CosmoScout.gui.initSlider("graphics.setGlareQuality", 0, 5, 1, [0]);

      $(document).on('click', '.item-create-button', function () {
        $(this).addClass('active');
        $(this).text('Cancel');
      });

      document.querySelector('[data-callback="graphics.setEnableAutoExposure"]')
        .addEventListener('change', (event) => {
          if (event.target.checked) {
            document.querySelector('[data-callback="graphics.setExposure"]').classList.add('unresponsive');
            document.querySelector('[data-callback="graphics.setExposureRange"]').classList.remove('unresponsive');
          } else {
            document.querySelector('[data-callback="graphics.setExposure"]').classList.remove('unresponsive');
            document.querySelector('[data-callback="graphics.setExposureRange"]').classList.add('unresponsive');
          }
        });

      document.querySelector('[data-callback="graphics.setEnableHDR"]')
        .addEventListener('change', (event) => {
          if (event.target.checked) {
            document.querySelectorAll('.hdr-setting').forEach((elem) => elem.classList.remove('unresponsive'));
          } else {
            document.querySelectorAll('.hdr-setting').forEach((elem) => elem.classList.add('unresponsive'));
          }
        });
    });
  </script>

  <template id="button-template">
    <a class="btn light-glass" data-toggle="tooltip">
      <i class="material-icons">%ICON%</i>
    </a>
  </template>

  <template id="notification-template">
    <div class="notification row">
      <div class="col-2 align-self-center">
        <i class="material-icons">%ICON%</i>
      </div>
      <div class="col-10">
        <div class="notification-title font-alegreya pt-1">%TITLE%</div>
        <div class="notification-content pb-2">%CONTENT%</div>
      </div>
    </div>
  </template>

  <template id="sidebar-plugin-tab-template">
    <div class="sidebar-tab">
      <div class="section-header collapsed tab" id="heading-%ID%" data-toggle="collapse"
        data-target="#collapse-%ID%" aria-expanded="false" aria-controls="collapse-%ID%"
        type="button">
        <span class="header-name font-alegreya">%NAME%</span>
        <i class="material-icons">%ICON%</i>
      </div>
      <div class="section-body collapse container-fluid" id="collapse-%ID%"
        aria-labelledby="heading-%ID%" data-parent="#sidebar-accordion">
        %CONTENT%
      </div>
    </div>
  </template>

  <template id="sidebar-settings-section-template">
    <div class="settings-section">
      <div class="section-header collapsed font-alegreya" id="headingSettings-%ID%"
        data-toggle="collapse" data-target="#collapseSettings-%ID%" aria-expanded="false"
        aria-controls="collapseSettings-%ID%" type="button">
        <i class="material-icons">%ICON%</i>
        <span>%NAME%</span>
        <i class="material-icons caret-icon">keyboard_arrow_left</i>
      </div>
      <div class="section-body collapse container-fluid" id="collapseSettings-%ID%"
        aria-labelledby="headingSettings-%ID%" data-parent="#settings-accordion">
        %CONTENT%
      </div>
    </div>
  </template>

</body>

</html>